<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Android Push Message Sender using GCM</title>
        <link rel="icon" type="image/x-icon" href="https://avatars0.githubusercontent.com/u/3058201?v=3&s=40">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <style>
            form,h1{
                width: 100%;
                text-align: center;
                margin: 0px auto;
            }
            input,textarea{
                width: 60%;
                display: block;
                font-size: medium;
                margin: 10px auto;
            }
            input{
                height: 30px;
            }
        </style>
    </head>
    <body>
        <h1>Android Push Notification </h1>
        <form>
            <input type="text" id="serverKey" placeholder="Eneter API Key"  size="30" />
            <input type="text" id="token" placeholder="Eneter Subscription Token"  size="30" />
            <textarea id="message" placeholder="Enter Message" rows="5"></textarea>
            <button id="sendNotification">Send Notification</button>
        </form>
        <script>
            $(function(){
               $("#sendNotification").click(function(){
                   var autorizationKey = "key="+$("#serverKey").val();
                   var body = {};
                   body.to = $("#token").val();
                   body.notification = {};
                   body.notification.title = "Message via Anji" ;
                   body.notification.body = $("#message").val();
                   body.notification.sound = "default";
                   body.notification.color = "#00ff00";
                   $.post({
                       url:"https://gcm-http.googleapis.com/gcm/send",
                       headers:{
                           "content-Type" : "application/json",
                           "Authorization" : autorizationKey,
                       },
                       data : JSON.stringify(body),
                       success : function(jxhr){
                           alert("Notification sent!!");
                       },
                       error : function(){
                           alert("Error occured while sending notificaton!");
                       }
                    });
               }); 
            });
        </script>
    </body>
</html> 
